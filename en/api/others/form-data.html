<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>formData</title>
        <script src="https://cdn.jsdelivr.net/gh/kirakiray/ofa.js@4.5.20/dist/ofa.min.js"></script>
    <script
      src="https://cdn.jsdelivr.net/gh/kirakiray/ofa.js@4.5.20/libs/scsr/scsr.mjs"
      type="module"
    ></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/css/public.css" />
    <style>
      html,
      body {
        height: 100%;
      }
    </style>
    <script>
      let configUrl = "../../config.json";
    </script>
    
        <link rel="shortcut icon" href="/favicon.ico">
        <link rel="apple-touch-icon" href="/logo.png">
        <link rel="apple-touch-icon-precomposed" href="/logo.png">
        <script async="" src="https://www.googletagmanager.com/gtag/js?id=G-7L1TCCJZT6"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag() {
            dataLayer.push(arguments);
          }
          gtag("js", new Date());

          gtag("config", "G-7L1TCCJZT6");
        </script>
        <script src="/init-sw.js"></script>
      
  </head>
  <body>
    <l-m src="https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/comps/doc-container.html"></l-m>
    <l-m src="https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/comps/doc-header/doc-header.html"></l-m>
    <o-app src="https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/app-config.mjs">
      <template page>
        <style>
          .markdown-body::before,
          .markdown-body::after {
            display: block;
            content: "";
            height: 1px;
          }
          .markdown-body::after {
            height: 32px;
          }
          .markdown-body > * {
            margin-top: 1em;
            margin-bottom: 1em;
          }
        </style>
        <link
          rel="stylesheet"
          href="https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/css/github-markdown.css"
        />
        <article class="markdown-body"><h1>formData</h1>
<p><code>formData</code> method is used to generate object data that is bound to form elements, making it easier and more efficient to handle form elements. This method will generate an object that contains the values of all form elements within the target element, and this object will reflect any changes made to the form elements in real-time.</p>
<p>In the following example, we demonstrate how to use the <code>formData</code> method to generate object data that is bound to form elements:</p>
<html-viewer>

<pre><code class="language-html">&lt;!-- Import ofa.js into the project --&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/gh/kirakiray/ofa.js/dist/ofa.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<pre><code class="language-html">&lt;form id=&quot;myForm&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;John Doe&quot; /&gt;
  &lt;div&gt;
    sex:
    &lt;label&gt;
      man
      &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;man&quot; /&gt;
    &lt;/label&gt;
    &lt;label&gt;
      woman
      &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;woman&quot; /&gt;
    &lt;/label&gt;
  &lt;/div&gt;
  &lt;textarea name=&quot;message&quot;&gt;Hello World!&lt;/textarea&gt;
&lt;/form&gt;
&lt;br /&gt;
&lt;div id=&quot;logger&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  const data = $(&quot;#myForm&quot;).formData();

  $(&quot;#logger&quot;).text = data;
  data.watch(() =&gt; {
    $(&quot;#logger&quot;).text = data;
  });
&lt;/script&gt;
</code></pre>
</html-viewer>

<p>In this example, we created a form that includes text input boxes, radio buttons, and a text area. We used the <code>formData</code> method to create an object called <code>data</code>, which contains the values of these form elements. We also used the <code>watch</code> method to monitor changes in the data and display the data on the page in real-time. When users modify the values of the form elements, the <code>data</code> object will be updated accordingly, making data processing simple and efficient.</p>
<h2>Reverse Data Binding</h2>
<p>The generated object data also has the ability to bind in reverse, which means that when you modify the properties of an object, the corresponding form element values will also be automatically updated. This is very useful when handling form data because you can easily achieve two-way data binding.</p>
<p>In the following example, we demonstrate how to use the object data generated by the <code>formData</code> method and how to perform reverse data binding:</p>
<html-viewer>

<pre><code class="language-html">&lt;!-- Import ofa.js into the project --&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/gh/kirakiray/ofa.js/dist/ofa.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<pre><code class="language-html">&lt;form id=&quot;myForm&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;John Doe&quot; /&gt;
  &lt;div&gt;
    sex:
    &lt;label&gt;
      man
      &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;man&quot; /&gt;
    &lt;/label&gt;
    &lt;label&gt;
      woman
      &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;woman&quot; /&gt;
    &lt;/label&gt;
  &lt;/div&gt;
  &lt;textarea name=&quot;message&quot;&gt;Hello World!&lt;/textarea&gt;
&lt;/form&gt;
&lt;br /&gt;
&lt;div id=&quot;logger&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  const data = $(&quot;#myForm&quot;).formData();
  
  setTimeout(()=&gt;{
    data.username = &quot;Yao&quot;;
    data.sex = &quot;man&quot;;
    data.message = &quot;ofa.js is good!&quot;;
  },1000);
&lt;/script&gt;
</code></pre>
</html-viewer>

<p>In this example, we first created a form that includes a text input box, radio buttons, and a text area. Then we used the <code>formData</code> method to generate a data object called <code>data</code>. Afterwards, by modifying the properties of the <code>data</code> object, we achieved two-way data binding, which means the values of the form elements will automatically update as the object properties change. This two-way data binding feature makes interacting with form data more convenient.</p>
<h2>Listen for a specific form</h2>
<p>By default, the <code>formData()</code> method will listen to all <code>input</code>, <code>select</code>, and <code>textarea</code> elements inside the target element. However, if you only want to listen to specific form elements, you can achieve it by passing a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_selectors">CSS selector</a>.</p>
<p>In the example below, we demonstrate how to listen for specific form elements by passing a CSS selector:</p>
<html-viewer>

<pre><code class="language-html">&lt;!-- Import ofa.js into the project --&gt;
&lt;script src=&quot;https://cdn.jsdelivr.net/gh/kirakiray/ofa.js/dist/ofa.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<pre><code class="language-html">&lt;form id=&quot;myForm&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;John Doe&quot; class=&quot;use-it&quot; /&gt;
  &lt;div&gt;
    sex:
    &lt;label&gt;
      man
      &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;man&quot; class=&quot;use-it&quot; /&gt;
    &lt;/label&gt;
    &lt;label&gt;
      woman
      &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;woman&quot; class=&quot;use-it&quot; /&gt;
    &lt;/label&gt;
  &lt;/div&gt;
  &lt;textarea name=&quot;message&quot;&gt;This form element is not bound&lt;/textarea&gt;
&lt;/form&gt;
&lt;br /&gt;
&lt;div id=&quot;logger&quot;&gt;&lt;/div&gt;
&lt;script&gt;
  const data = $(&quot;#myForm&quot;).formData(&quot;.use-it&quot;);

  $(&quot;#logger&quot;).text = data;
  data.watch(() =&gt; {
    $(&quot;#logger&quot;).text = data;
  });
&lt;/script&gt;
</code></pre>
</html-viewer>

<p>In this example, we only want to listen to form elements with the <code>class</code> of &quot;use-it&quot;, so we pass <code>&quot;.use-it&quot;</code> as an argument to the <code>formData()</code> method. This way, only form elements with that class name will be listened to and included in the generated data object. This is useful for selectively listening to form elements in order to manage your form data more precisely.</p>
<h2>Custom Form</h2>
<p>Using custom form components is very simple, just add a <strong>value property</strong> and set the <strong>name attribute</strong> for the custom component.</p>
<p>In the example below, we create a custom form component called &quot;custom-input&quot;. This component is an editable text box that updates its <code>value</code> property in real-time when the text changes.</p>
<comp-viewer comp-name="custom-input">

<pre><code>&lt;div id=&quot;myForm&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;John Doe&quot; /&gt;
  &lt;custom-input name=&quot;message&quot;&gt;&lt;/custom-input&gt;
  &lt;div id=&quot;logger&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
  const data = $(&quot;#myForm&quot;).formData(&quot;input,custom-input&quot;);
  $(&quot;#logger&quot;).text = data;
  data.watch(() =&gt; {
    $(&quot;#logger&quot;).text = data;
  });
&lt;/script&gt;
</code></pre>
<pre><code class="language-html">&lt;template component&gt;
  &lt;style&gt;
    :host{
      display: block;
    }
    .editor {
      display: inline-block;
      min-width: 200px;
      line-height: 30px;
      height: 30px;
      border: #aaa solid 1px;
      border-radius: 4px;
      padding: 4px;
      font-size: 14px;
    }
  &lt;/style&gt;
  &lt;div
    class=&quot;editor&quot;
    contenteditable=&quot;plaintext-only&quot;
    :text=&quot;value&quot;
    on:input=&quot;changeText&quot;
  &gt;&lt;/div&gt;
  &lt;script&gt;
    export default {
      tag:&quot;custom-input&quot;,
      attrs: {
        name: &quot;&quot;,
      },
      data: {
        value: &quot;Default txt&quot;,
      },
      proto: {
        changeText(e) {
          this.value = $(e.target).text;
        },
      },
    };
  &lt;/script&gt;
&lt;/template&gt;
</code></pre>
</comp-viewer>

<p>When you use a custom form component, you simply add it to your form and set the desired <code>name</code> property:</p>
<pre><code class="language-html">&lt;div id=&quot;myForm&quot;&gt;
  &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;John Doe&quot; /&gt;
  &lt;custom-input name=&quot;message&quot;&gt;&lt;/custom-input&gt;
  &lt;div id=&quot;logger&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;script&gt;
  const data = $(&quot;#myForm&quot;).formData(&quot;input,custom-input&quot;);
  $(&quot;#logger&quot;).text = data;
  data.watch(() =&gt; {
    $(&quot;#logger&quot;).text = data;
  });
&lt;/script&gt;
</code></pre>
<p>In the above example, we use custom form components by adding the <code>&lt;custom-input&gt;</code> element and setting the <code>name</code> property. Then, we use the <code>formData()</code> method to listen to the values of input elements and custom components, in order to retrieve and process the form data in real-time. This approach allows you to easily extend your form to include custom form components, meeting your specific needs.</p>
<h2>Using Form Data in Components or Pages</h2>
<p>Sometimes, you may need to use form data within a component or page, and you need to generate the data during the <code>ready</code> lifecycle and bind it to the component.</p>
<p>In the following example, we demonstrate how to use form data within a custom component. This component includes a text input field that updates the data in the log in real-time when you input content.</p>
<comp-viewer comp-name="custom-input">

<pre><code class="language-html">&lt;template component&gt;
  &lt;style&gt;
    :host{
      display: block;
    }
  &lt;/style&gt;
  &lt;input type=&quot;text&quot; name=&quot;username&quot; value=&quot;John Doe&quot; /&gt;
  &lt;div&gt;{{logtext}}&lt;/div&gt;
  &lt;script&gt;
    export default {
      tag:&quot;custom-input&quot;,
      data: {
        fdata:{},
        logtext: &quot;&quot;
      },
      watch:{
        fdata(data){
          if(data){
            this.logtext = JSON.stringify(data);
          }
        }
      },
      ready(){
        this.fdata = this.shadow.formData();
      }
    };
  &lt;/script&gt;
&lt;/template&gt;
</code></pre>
</comp-viewer>

<p>Through the <code>ready</code> lifecycle, after the component is ready, we use the <code>this.shadow.formData()</code> method to generate the form data object <code>fdata</code>. Then, we use <code>watch</code> to listen for changes in <code>fdata</code>, and when the data changes, we convert it to a JSON string and update <code>logtext</code> to achieve real-time display of form data.</p>

    <article-footer></article-footer>
    </article>
        <script>
          export const parent = "https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/layouts/article-layout.html";

          import pageInit from "https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/document-page-init.mjs";

          export default async (...args) => {
            return await pageInit(PATH, args);
          };
        </script>
      </template>
    </o-app>
    <div id="loading"></div>
    <div class="body-important other-link"><ul>
<li><a href="../../cases/index.html">Getting Started</a></li>
<li><a href="../../cases/event.html">Event Reaction</a></li>
<li><a href="../../cases/simple-component.html">Creating and Using Components</a></li>
<li><a href="../../cases/slot.html">Component Slots</a></li>
<li><a href="../../cases/render-text.html">Template Syntax: Rendering Text</a></li>
<li><a href="../../cases/attribute-transmission.html">Attribute Passing</a></li>
<li><a href="../../cases/get-set-comp.html">Getting and Modifying Component Instance Values</a></li>
<li><a href="../../cases/property-transmission.html">Template Syntax: Attribute Passing</a></li>
<li><a href="../../cases/bind-event.html">Template Syntax: Binding Events</a></li>
<li><a href="../../cases/nested-component.html">Nested Components</a></li>
<li><a href="../../cases/inject-host.html">inject-host Component</a></li>
<li><a href="../../cases/event-passing.html">Event Passing</a></li>
<li><a href="../../cases/sync.html">Template Syntax: Two-Way Data Binding</a></li>
<li><a href="../../cases/condition.html">Template Component: Conditional Rendering</a></li>
<li><a href="../../cases/fill.html">Template Component: Filling Rendering</a></li>
<li><a href="../../cases/fill-temp.html">Recursive Filling Rendering</a></li>
<li><a href="../../cases/life-cycle.html">Lifecycle</a></li>
<li><a href="../../cases/form-data.html">Form Data</a></li>
<li><a href="../../cases/custom-form-element.html">Custom Form Components</a></li>
<li><a href="../../cases/use-page.html">Using Page Components</a></li>
<li><a href="../../cases/use-app.html">Using app Components</a></li>
<li><a href="../../cases/app-config.html">Configuring app Parameters</a></li>
<li><a href="../../cases/app-loading.html">Customizing Loading for app</a></li>
<li><a href="../../cases/set404.html">Setting 404 Page</a></li>
<li><a href="../../cases/nested-page.html">Nested Pages</a></li>
<li><a href="../../cases/multi-nested.html">Multi-Level Nested Pages</a></li>
<li><a href="../../cases/use-hash-router.html">Using HashRouter</a></li>
<li><a href="../../cases/use-scsr.html">Using SCSR Solution</a></li>
<li><a href="../../cases/sync-state.html">State Synchronization</a></li>
<li><a href="../../cases/alias.html">Aliases</a></li>
<li><a href="../../docs/introduce.html">Introduction</a></li>
<li><a href="../../docs/get-started/index.html">How to use ofa.js</a></li>
<li><a href="../../docs/get-started/hello-world.html">First Example</a></li>
<li><a href="../../docs/get-started/elements-and-events.html">Selecting Elements and Handling Events</a></li>
<li><a href="../../docs/get-started/basic-concept.html">Basic Concepts of Instances</a></li>
<li><a href="../../docs/get-started/common-properties.html">Common Properties and Methods</a></li>
<li><a href="../../docs/create-component/index.html">Production and Usage</a></li>
<li><a href="../../docs/create-component/parameter-description.html">Parameter Description</a></li>
<li><a href="../../docs/create-component/life-cycle.html">Lifecycle</a></li>
<li><a href="../../docs/create-component/web-components.html">General Knowledge of Componentization</a></li>
<li><a href="../../docs/create-component/template-syntax.html">Template Syntax</a></li>
<li><a href="../../docs/create-app/index.html">Introduction</a></li>
<li><a href="../../docs/create-app/page.html">Using the Page Component</a></li>
<li><a href="../../docs/create-app/app.html">Using the App Component</a></li>
<li><a href="../../docs/create-app/subrouting.html">Subrouting</a></li>
<li><a href="../../docs/create-app/o-router.html">Route Binding</a></li>
<li><a href="../../docs/create-app/scsr.html">SCSR Solution</a></li>
<li><a href="../../docs/others/data-sharing.html">Data Sharing</a></li>
<li><a href="../../docs/others/about-micro-frontend.html">ofa.js and Micro Frontends</a></li>
<li><a href="../../docs/others/coexist-with-jquery.html">Coexistence with jQuery</a></li>
<li><a href="../index.html">API Introduction</a></li>
<li><a href="../instance/dollar.html">$ Method</a></li>
<li><a href="../instance/all.html">all</a></li>
<li><a href="../instance/prev.html">prev</a></li>
<li><a href="../instance/prevs.html">prevs</a></li>
<li><a href="../instance/next.html">next</a></li>
<li><a href="../instance/nexts.html">nexts</a></li>
<li><a href="../instance/siblings.html">siblings</a></li>
<li><a href="../instance/parent.html">parent</a></li>
<li><a href="../instance/parents.html">parents</a></li>
<li><a href="../instance/clone.html">clone</a></li>
<li><a href="../instance/ele.html">ele</a></li>
<li><a href="../instance/shadow.html">shadow</a></li>
<li><a href="../instance/root.html">root</a></li>
<li><a href="../instance/children.html">Child Elements</a></li>
<li><a href="../instance/host.html">host</a></li>
<li><a href="../instance/app.html">app</a></li>
<li><a href="../operation/array-like.html">Add or Remove Child Nodes</a></li>
<li><a href="../operation/before.html">before</a></li>
<li><a href="../operation/after.html">after</a></li>
<li><a href="../operation/remove.html">remove</a></li>
<li><a href="../operation/wrap.html">wrap</a></li>
<li><a href="../operation/unwrap.html">unwrap</a></li>
<li><a href="../props/text.html">text</a></li>
<li><a href="../props/html.html">html</a></li>
<li><a href="../props/attr.html">attr</a></li>
<li><a href="../props/css.html">css</a></li>
<li><a href="../props/style.html">style</a></li>
<li><a href="../props/class-list.html">classList</a></li>
<li><a href="../props/data.html">data</a></li>
<li><a href="../event/on.html">on</a></li>
<li><a href="../event/one.html">one</a></li>
<li><a href="../event/emit.html">emit</a></li>
<li><a href="../event/off.html">off</a></li>
<li><a href="../temp-syntax/text-render.html">Text Rendering</a></li>
<li><a href="../temp-syntax/class.html">class</a></li>
<li><a href="../temp-syntax/sync.html">sync</a></li>
<li><a href="../temp-syntax/condition.html">Conditional Rendering</a></li>
<li><a href="../temp-syntax/fill.html">List Rendering</a></li>
<li><a href="../life-cycle/created.html">created</a></li>
<li><a href="../life-cycle/ready.html">ready</a></li>
<li><a href="../life-cycle/watch.html">watch</a></li>
<li><a href="../life-cycle/loaded.html">loaded</a></li>
<li><a href="../life-cycle/attached.html">attached</a></li>
<li><a href="../life-cycle/detached.html">detached</a></li>
<li><a href="../life-cycle/router-change.html">routerChange</a></li>
<li><a href="app.html">app</a></li>
<li><a href="page.html">page</a></li>
<li><a href="box.html">Box Model</a></li>
<li><a href="form-data.html">formData</a></li>
<li><a href="tag.html">tag</a></li>
<li><a href="index.html">index</a></li>
<li><a href="is.html">is</a></li>
<li><a href="refresh.html">refresh</a></li>
<li><a href="path.html">PATH</a></li>
<li><a href="extend.html">extend</a></li>
<li><a href="version.html">version</a></li>
<li><a href="stanz.html">Instance Data Features</a></li>
<li><a href="../../index.html">English-index.html</a></li>
<li><a href="../../../cn/index.html">简体中文-index.html</a></li>
<li><a href="../../../t-cn/index.html">繁体中文-index.html</a></li>
<li><a href="../../../ja/index.html">index.html</a></li>
<li><a href="../../../es/index.html">española-index.html</a></li>
<li><a href="../../../ko/index.html">index.html</a></li>

</ul></div>
    <script src="https://cdn.jsdelivr.net/npm/obook@2.1.42/statics/init.js" type="module"></script>
  </body>
</html>

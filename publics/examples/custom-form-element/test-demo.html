<template component>
  <l-m src="./custom-input.html"></l-m>
  <div id="target">
    <div>
      <input type="text" name="A1" placeholder="write something" />
    </div>
    <div>
      <custom-input name="A2"></custom-input>
    </div>
  </div>
  <div>{{fdata}}</div>

  <script>
    export default {
      data: {
        count: 0,
        fdata: {},
      },
      attached() {
        // 挂载表单数据
        this.fdata = this.shadow.$("#target").formData("input,custom-input");
      },
      detached() {
        // 回收
        this.fdata.revoke();
        this.fdata = null;
      },
    };
  </script>
</template>
